{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nconst useScrollAnimation = (threshold = 0.1, options = {}) => {\n  _s();\n  const [isVisible, setIsVisible] = useState(false);\n  const [scrollProgress, setScrollProgress] = useState(0);\n  const ref = useRef(null);\n  useEffect(() => {\n    const element = ref.current;\n    if (!element) return;\n    const observerOptions = {\n      threshold,\n      rootMargin: '0px 0px -100px 0px',\n      ...options\n    };\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        setIsVisible(true);\n\n        // Calculate scroll-based progress\n        const rect = element.getBoundingClientRect();\n        const windowHeight = window.innerHeight;\n        const progress = Math.min(1, Math.max(0, 1 - rect.top / windowHeight));\n        setScrollProgress(progress);\n      } else {\n        setIsVisible(false);\n        setScrollProgress(0);\n      }\n    }, observerOptions);\n\n    // Enhanced scroll progress tracking\n    const handleScroll = () => {\n      if (!isVisible) return;\n      const rect = element.getBoundingClientRect();\n      const windowHeight = window.innerHeight;\n      const elementHeight = rect.height;\n\n      // Calculate how much of the element is visible\n      const visibleHeight = Math.min(elementHeight, Math.max(0, windowHeight - rect.top));\n      const progress = visibleHeight / elementHeight;\n      setScrollProgress(Math.min(1, progress));\n    };\n    observer.observe(element);\n    window.addEventListener('scroll', handleScroll, {\n      passive: true\n    });\n    return () => {\n      observer.unobserve(element);\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [threshold, options, isVisible]);\n  return [ref, isVisible, scrollProgress];\n};\n_s(useScrollAnimation, \"BzLIBIDI5OUW0ZgbDB0J9POr8lg=\");\nexport default useScrollAnimation;","map":{"version":3,"names":["useState","useEffect","useRef","useScrollAnimation","threshold","options","_s","isVisible","setIsVisible","scrollProgress","setScrollProgress","ref","element","current","observerOptions","rootMargin","observer","IntersectionObserver","entry","isIntersecting","rect","getBoundingClientRect","windowHeight","window","innerHeight","progress","Math","min","max","top","handleScroll","elementHeight","height","visibleHeight","observe","addEventListener","passive","unobserve","removeEventListener"],"sources":["D:/rovodevb/src/hooks/useScrollAnimation.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nconst useScrollAnimation = (threshold = 0.1, options = {}) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [scrollProgress, setScrollProgress] = useState(0);\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const element = ref.current;\n    if (!element) return;\n\n    const observerOptions = {\n      threshold,\n      rootMargin: '0px 0px -100px 0px',\n      ...options\n    };\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsVisible(true);\n\n          // Calculate scroll-based progress\n          const rect = element.getBoundingClientRect();\n          const windowHeight = window.innerHeight;\n          const progress = Math.min(1, Math.max(0, 1 - (rect.top / windowHeight)));\n          setScrollProgress(progress);\n        } else {\n          setIsVisible(false);\n          setScrollProgress(0);\n        }\n      },\n      observerOptions\n    );\n\n    // Enhanced scroll progress tracking\n    const handleScroll = () => {\n      if (!isVisible) return;\n\n      const rect = element.getBoundingClientRect();\n      const windowHeight = window.innerHeight;\n      const elementHeight = rect.height;\n\n      // Calculate how much of the element is visible\n      const visibleHeight = Math.min(elementHeight, Math.max(0, windowHeight - rect.top));\n      const progress = visibleHeight / elementHeight;\n\n      setScrollProgress(Math.min(1, progress));\n    };\n\n    observer.observe(element);\n    window.addEventListener('scroll', handleScroll, { passive: true });\n\n    return () => {\n      observer.unobserve(element);\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [threshold, options, isVisible]);\n\n  return [ref, isVisible, scrollProgress];\n};\n\nexport default useScrollAnimation;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEnD,MAAMC,kBAAkB,GAAGA,CAACC,SAAS,GAAG,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EAAAC,EAAA;EAC5D,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACS,cAAc,EAAEC,iBAAiB,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAMW,GAAG,GAAGT,MAAM,CAAC,IAAI,CAAC;EAExBD,SAAS,CAAC,MAAM;IACd,MAAMW,OAAO,GAAGD,GAAG,CAACE,OAAO;IAC3B,IAAI,CAACD,OAAO,EAAE;IAEd,MAAME,eAAe,GAAG;MACtBV,SAAS;MACTW,UAAU,EAAE,oBAAoB;MAChC,GAAGV;IACL,CAAC;IAED,MAAMW,QAAQ,GAAG,IAAIC,oBAAoB,CACvC,CAAC,CAACC,KAAK,CAAC,KAAK;MACX,IAAIA,KAAK,CAACC,cAAc,EAAE;QACxBX,YAAY,CAAC,IAAI,CAAC;;QAElB;QACA,MAAMY,IAAI,GAAGR,OAAO,CAACS,qBAAqB,CAAC,CAAC;QAC5C,MAAMC,YAAY,GAAGC,MAAM,CAACC,WAAW;QACvC,MAAMC,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAAC,CAAC,EAAE,CAAC,GAAIR,IAAI,CAACS,GAAG,GAAGP,YAAa,CAAC,CAAC;QACxEZ,iBAAiB,CAACe,QAAQ,CAAC;MAC7B,CAAC,MAAM;QACLjB,YAAY,CAAC,KAAK,CAAC;QACnBE,iBAAiB,CAAC,CAAC,CAAC;MACtB;IACF,CAAC,EACDI,eACF,CAAC;;IAED;IACA,MAAMgB,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAI,CAACvB,SAAS,EAAE;MAEhB,MAAMa,IAAI,GAAGR,OAAO,CAACS,qBAAqB,CAAC,CAAC;MAC5C,MAAMC,YAAY,GAAGC,MAAM,CAACC,WAAW;MACvC,MAAMO,aAAa,GAAGX,IAAI,CAACY,MAAM;;MAEjC;MACA,MAAMC,aAAa,GAAGP,IAAI,CAACC,GAAG,CAACI,aAAa,EAAEL,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEN,YAAY,GAAGF,IAAI,CAACS,GAAG,CAAC,CAAC;MACnF,MAAMJ,QAAQ,GAAGQ,aAAa,GAAGF,aAAa;MAE9CrB,iBAAiB,CAACgB,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEF,QAAQ,CAAC,CAAC;IAC1C,CAAC;IAEDT,QAAQ,CAACkB,OAAO,CAACtB,OAAO,CAAC;IACzBW,MAAM,CAACY,gBAAgB,CAAC,QAAQ,EAAEL,YAAY,EAAE;MAAEM,OAAO,EAAE;IAAK,CAAC,CAAC;IAElE,OAAO,MAAM;MACXpB,QAAQ,CAACqB,SAAS,CAACzB,OAAO,CAAC;MAC3BW,MAAM,CAACe,mBAAmB,CAAC,QAAQ,EAAER,YAAY,CAAC;IACpD,CAAC;EACH,CAAC,EAAE,CAAC1B,SAAS,EAAEC,OAAO,EAAEE,SAAS,CAAC,CAAC;EAEnC,OAAO,CAACI,GAAG,EAAEJ,SAAS,EAAEE,cAAc,CAAC;AACzC,CAAC;AAACH,EAAA,CA1DIH,kBAAkB;AA4DxB,eAAeA,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}